<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QueryLab - SQL Sandbox</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Top-right GitHub star -->
    <div class="star-reminder-top">
        <a href="https://github.com/pouyatavakoli/QueryLab" target="_blank">
            <i class="fab fa-github"></i> Star on GitHub
        </a>
    </div>

    <header>
        <h1><i class="fas fa-database"></i> QueryLab SQL Sandbox</h1>
        <p class="subtitle">A safe, isolated environment for running SQL queries</p>
    </header>
    
    <div class="session-info">
        <i class="fas fa-info-circle"></i> 
        Each session gets its own isolated PostgreSQL database. Old databases are automatically cleaned up on refresh.
    </div>
    
    <div id="popup" class="popup"></div>
    
    <div class="query-section">
        <h2><i class="fas fa-terminal"></i> SQL Query Editor</h2>
        <p>Enter your SQL query below:</p>
        
        <textarea id="query" placeholder="SELECT * FROM employee WHERE ssn = '1';&#10;-- Use Ctrl+Enter to run query"></textarea>
        
        <div class="query-controls">
            <button id="runQueryBtn" class="btn-primary">
                <i class="fas fa-play"></i> Run Query (Ctrl+Enter)
            </button>
            <button id="clearQueryBtn" class="btn-secondary">
                <i class="fas fa-eraser"></i> Clear Query
            </button>
            <button id="clearSessionBtn" class="btn-danger">
                <i class="fas fa-sign-out-alt"></i> Clear Session
            </button>
        </div>
    </div>
    
    <div class="results-section">
        <h2><i class="fas fa-table"></i> Results</h2>
        <div id="result">
            <p style="color: #7f8c8d; font-style: italic;">
                Your query results will appear here...
            </p>
        </div>
    </div>
    
    <div class="tips">
        <h3><i class="fas fa-lightbulb"></i> Tips:</h3>
        <ul>
            <li>Use <code>Ctrl+Enter</code> to run your query quickly</li>
            <li>Each session automatically times out after 1 hour of inactivity</li>
            <li>Your database is reset on each refresh (old data is cleaned up)</li>
            <li>You have read-only access to the schema</li>
            <li>Click "Clear Session" to start fresh with a new database</li>
        </ul>
    </div>
    
    <footer>
        <p>Made with <span class="heart">❤️</span> by <a href="https://github.com/pouyatavakoli" target="_blank">Pouya</a></p>
        <p>QueryLab &copy; 2026 | Built with <i class="fab fa-golang golang-icon"></i> </p>
    </footer>
    
    <!-- JavaScript -->
    <script src="utils.js"></script>
    <script src="app.js"></script>
</body>
</html>